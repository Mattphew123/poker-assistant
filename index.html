<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Poker Assistant</title>
  <style>
    body { background: #003300; color: #fff; font-family: Arial, sans-serif; padding: 20px; }
    .container { max-width: 500px; margin: auto; }
    h1 { text-align: center; color: #a3ffba; }
    .section { background: #014d01; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
    label, select, input, button { display: block; width: 100%; margin-top: 10px; font-size: 1rem; }
    button { background: #32cd32; border: none; padding: 10px; border-radius: 5px; cursor: pointer; }
    button:hover { background: #28a428; }
    .hidden { display: none; }
    #advice { margin-top: 10px; background: #026602; padding: 10px; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Poker Assistant</h1>

    <!-- Player Info -->
    <div class="section" id="infoSection">
      <label for="numPlayers">Number of Players</label>
      <select id="numPlayers"></select>

      <label for="position">Your Position</label>
      <select id="position">
        <option>Under the Gun</option>
        <option>Under the Gun +1</option>
        <option>Middle Position</option>
        <option>Hijack</option>
        <option>Cutoff</option>
        <option>Button</option>
        <option>Small Blind</option>
        <option>Big Blind</option>
      </select>

      <label for="sb">Small Blind</label>
      <input type="number" id="sb" value="10"/>

      <label for="bb">Big Blind</label>
      <input type="number" id="bb" value="20"/>
    </div>

    <!-- Hole Cards -->
    <div class="section" id="holeSection">
      <h2>Hole Cards</h2>
      <select id="hole1"></select>
      <select id="hole2"></select>
      <button onclick="advisePreflop()">Get Pre-Flop Advice</button>
      <div id="advicePre" class="advice"></div>
    </div>

    <!-- Flop -->
    <div class="section hidden" id="flopSection">
      <h2>Flop</h2>
      <select id="flop1"></select>
      <select id="flop2"></select>
      <select id="flop3"></select>
      <button onclick="adviseFlop()">Get Flop Advice</button>
      <div id="adviceFlop" class="advice"></div>
    </div>

    <!-- Turn -->
    <div class="section hidden" id="turnSection">
      <h2>Turn</h2>
      <select id="turn"></select>
      <button onclick="adviseTurn()">Get Turn Advice</button>
      <div id="adviceTurn" class="advice"></div>
    </div>

    <!-- River -->
    <div class="section hidden" id="riverSection">
      <h2>River</h2>
      <select id="river"></select>
      <button onclick="adviseRiver()">Get River Advice</button>
      <div id="adviceRiver" class="advice"></div>
    </div>
  </div>

  <script>
    // generate number of players
    const numPlayers = document.getElementById('numPlayers');
    for (let i=4; i<=12; i++) {
      const o = new Option(i, i);
      numPlayers.add(o);
    }

    // deck
    const suits=['♠','♥','♦','♣'], values=['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
    const deck = suits.flatMap(s=>values.map(v=>v+s));
    let used = new Set();

    // populate dropdown helper
    function populate(id) {
      const sel = document.getElementById(id);
      sel.innerHTML = '<option value="">Select</option>';
      deck.forEach(card=>{
        if (!used.has(card)) {
          const o = new Option(card, card);
          sel.add(o);
        }
      });
      sel.onchange = ()=> {
        const v = sel.value;
        if (v) {
          used.add(v);
          refreshAll();
        }
      };
    }

    function refreshAll() {
      ['hole1','hole2','flop1','flop2','flop3','turn','river'].forEach(populate);
    }

    // initial populate
    refreshAll();

    // helper to gather selected cards
    function cardsSoFar() {
      return ['hole1','hole2','flop1','flop2','flop3','turn','river']
        .map(id=>document.getElementById(id).value)
        .filter(c=>c);
    }

    // simple evaluator for demonstration
    function evaluate(cards) {
      // JUST a placeholder: you would plug in your full logic here
      const suitsOnly = cards.map(c=>c.slice(-1));
      const flush = suitsOnly.every(s=>s===suitsOnly[0]) && cards.length>=5;
      if (flush) return 'Flush – strong bet';
      return `Hand strength based on ${cards.length} cards`;
    }

    function advisePreflop(){
      const hole = cardsSoFar().slice(0,2);
      if (hole.length<2) return alert('Select 2 hole cards');
      document.getElementById('advicePre').innerText = evaluate(hole);
      document.getElementById('flopSection').classList.remove('hidden');
    }
    function adviseFlop(){
      const c = cardsSoFar().slice(0,5);
      if (c.length<5) return alert('Select 3 flop cards');
      document.getElementById('adviceFlop').innerText = evaluate(c);
      document.getElementById('turnSection').classList.remove('hidden');
    }
    function adviseTurn(){
      const c = cardsSoFar().slice(0,6);
      if (c.length<6) return alert('Select turn card');
      document.getElementById('adviceTurn').innerText = evaluate(c);
      document.getElementById('riverSection').classList.remove('hidden');
    }
    function adviseRiver(){
      const c = cardsSoFar();
      if (c.length<7) return alert('Select river card');
      document.getElementById('adviceRiver').innerText = evaluate(c);
    }
  </script>
</body>
</html>
