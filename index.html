<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Poker Assistant</title>
  <style>
    body { font-family: sans-serif; margin: 1em; background: #f5f5f5; }
    h1 { text-align: center; }
    label { display: block; margin-top: 1em; }
    select, input, button { width: 100%; padding: 0.5em; font-size: 1em; }
    #advice { margin-top: 1em; font-weight: bold; text-align: center; font-size: 1.2em; }
  </style>
</head>
<body>
  <h1>Texas Hold'em Helper</h1>

  <!-- Blinds Input -->
  <label>Small Blind:
    <input type="number" id="smallBlind" placeholder="e.g., 1" />
  </label>
  <label>Big Blind:
    <input type="number" id="bigBlind" placeholder="e.g., 2" />
  </label>

  <label>Number of Players:
    <select id="tableSize" onchange="updatePositionOptions()">
      <option value="8">8 Players</option>
      <option value="9">9 Players</option>
      <option value="10">10 Players</option>
    </select>
  </label>

  <label>Hole Card 1:
    <select id="card1"></select>
  </label>

  <label>Hole Card 2:
    <select id="card2"></select>
  </label>

  <label>Position:
    <select id="position"></select>
  </label>

  <!-- Flop, Turn, and River Inputs -->
  <label>Flop (3 Cards):
    <input type="text" id="flop" placeholder="e.g., Ah 7d Kc" />
  </label>

  <label>Turn (1 Card):
    <input type="text" id="turn" placeholder="e.g., 9h" />
  </label>

  <label>River (1 Card):
    <input type="text" id="river" placeholder="e.g., 3s" />
  </label>

  <button onclick="getAdvice()">Get Post-flop Advice</button>
  <div id="advice"></div>

  <script>
    const cards = ["A", "K", "Q", "J", "T", "9", "8", "7", "6", "5", "4", "3", "2"];
    const suits = ["♠", "♥", "♦", "♣"];

    function populateCards() {
      const select1 = document.getElementById("card1");
      const select2 = document.getElementById("card2");
      for (let r of cards) {
        for (let s of suits) {
          const val = r + s;
          select1.add(new Option(val, val));
          select2.add(new Option(val, val));
        }
      }
    }

    function updatePositionOptions() {
      const tableSize = document.getElementById("tableSize").value;
      const positionSelect = document.getElementById("position");
      positionSelect.innerHTML = "";  // Clear current options

      let positions = [];
      if (tableSize == 8) {
        positions = ["UTG", "UTG+1", "MP", "CO", "BTN", "SB", "BB"];
      } else if (tableSize == 9) {
        positions = ["UTG", "UTG+1", "MP", "MP2", "CO", "BTN", "SB", "BB"];
      } else {
        positions = ["UTG", "UTG+1", "MP", "MP2", "CO", "CO2", "BTN", "SB", "BB"];
      }

      // Add options to the dropdown
      positions.forEach(function(position) {
        const option = new Option(position, position);
        positionSelect.add(option);
      });
    }

    function evaluateHand(holeCards, board) {
      // Very basic hand evaluation logic (you can enhance this)
      let handStrength = "Weak";

      // Combine hole cards and board cards
      const allCards = [...holeCards, ...board];
      
      // Check for pairs (simplified logic)
      const ranks = allCards.map(card => card[0]);
      const uniqueRanks = [...new Set(ranks)];

      if (uniqueRanks.length < allCards.length) {
        handStrength = "Pair or Better";
      }

      return handStrength;
    }

    function getAdvice() {
      const smallBlind = parseInt(document.getElementById("smallBlind").value);
      const bigBlind = parseInt(document.getElementById("bigBlind").value);
      const c1 = document.getElementById("card1").value;
      const c2 = document.getElementById("card2").value;
      const pos = document.getElementById("position").value;
      const tableSize = document.getElementById("tableSize").value;

      const flop = document.getElementById("flop").value.split(" ");
      const turn = document.getElementById("turn").value;
      const river = document.getElementById("river").value;

      const holeCards = [c1, c2];
      const board = [...flop, turn, river].filter(card => card);

      // Evaluate hand strength
      const handStrength = evaluateHand(holeCards, board);

      let advice = "Fold";

      // Raise logic based on blinds and hand strength
      const raiseAmount = bigBlind * 3; // Typically raise 3xBB pre-flop
      if (handStrength === "Pair or Better") {
        advice = `Consider raising to ${raiseAmount} or betting 1.5xBB on the flop.`;
      } else if (handStrength === "Weak") {
        advice = "Check or Fold.";
      }

      // Position-based advice
      if (pos === "BTN") {
        advice += " On the Button, you can play aggressively.";
      } else if (pos === "SB" || pos === "BB") {
        advice += " In the blinds, be cautious unless you have a strong hand.";
      }

      document.getElementById("advice").innerText = `Advice: ${advice} Hand strength: ${handStrength}`;
    }

    populateCards();
    updatePositionOptions(); // Initialize the position options
  </script>
</body>
</html>
